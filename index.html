<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FileSurfer: Overview</title>
<link rel="icon" href="FileSurfer-logo-small.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="FileSurfer-logo-small.ico"/></td>
  <td id="projectalign">
   <div id="projectname">FileSurfer<span id="projectnumber">&#160;1.1.3</span>
   </div>
   <div id="projectbrief">Modern Windows File Explorer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Overview </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__overview"></a></p>
<p>Welcome to the technical documentation of <em>FileSurfer</em>. This project was started back in July 2024 as my semestral programming project. Since then I have been working on polishing its features and managing its github page. It is a program I use every time I find myself on Windows (even though it is not much these days).</p>
<p>FileSurfer is built purely with C# and uses the Reactive UI framework from the AvaloniaUI ecosystem. By design of AvaloniaUI application, FileSurfer follows the MVVM (Model-View-ViewModel) architectural pattern.</p>
<p>The Models encapsulate functional logic such as file system operations, file system information retrieval, interaction with the system clipboard, etc...</p>
<p>Views represent the UI elements with minimal functional logic. They handle user input and serve it to the ViewModels while receiving data from the ViewModels to display.</p>
<p>ViewModels serve as a layer in between the Views and the Models. They transform data for the UI and routing user input to the appropriate Model functions.</p>
<p>Bellow is a list of classes and interfaces separated into namespaces. You can also look around the generated <a href="https://JANECEA.github.io/FileSurfer/">doxygen</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
FileSurfer</h1>
<p>Core namespace containing the entry point, global settings, and view resolution logic for the FileSurfer application.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Program</h2>
<p>Entry point for the FileSurfer application. This AvaloniaUI application uses the ReactiveUI framework.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
FileSurferSettings</h2>
<p>A static class that manages the application configuration and user preferences using static properties. Loads and saves user settings using a json file at *"C:\Users\USER_NAME\AppData\Roaming\FileSurfer\settings.json"*. <br  />
 Uses a simple record class <span class="tt">SettingsRecord</span> which holds the settings' as properties and also provides the default values. <span class="tt">SettingsRecord</span> is also used to parse the values from the json file and in SettingsWindowViewModel.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
App</h2>
<p>Entry point for the application. <em>(generated by AvaloniaUI)</em> <br  />
 The <em>code behind</em> (<span class="tt">.axaml.cs</span>) handles command line arguments, application theme, and the creation of MainWindowViewModel. <br  />
 The <em>AXAML</em> contains dynamic resources such as fonts and colors.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
ViewLocator</h2>
<p>Instantiates views. <em>(generated by AvaloniaUI)</em></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
FileSurfer.Views</h1>
<p>Contains the graphic interfaces of FileSurfer. Defines Avalonia Windows and their layouts with minimal logic.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
MainWindow</h2>
<p>The main application window. Inherits from <span class="tt">Window</span>. <br  />
 The <em>AXAML</em> handles the layout and overal look and feel of the application along with the style sheet in <span class="tt">MainWindowStyle.axaml</span>. It also defines simple keybindings which are not dependent on the state of the window and its elements. <br  />
 The <em>code behind</em> handles interaction with MainWindowViewModel such as invoking commands in cases of more complex or context dependent user actions or key presses. Handles overall displaying logic such as disabling keyboard shortcuts while a text-box is focused. Invokes the <span class="tt">OnClosing</span> method before the program is closed. The <span class="tt">OnClosing</span> method saves the current settings and disposes the MainWindowViewModel.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
ErrorWindow</h2>
<p>Serves as a dialog for displaying error messages. Inherits from <span class="tt">Window</span> and does not have a <em>ViewModel</em>. <br  />
 The <em>AXAML</em> handles the visual layout along with the style sheet in <span class="tt">ErrorWindowStyle.axaml</span>. <br  />
 The <em>code behind</em> handles button actions, key presses, and holds the message displayed.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
SettingsWindow</h2>
<p>Window for configuring application settings. DataContext is SettingsWindowViewModel. <br  />
 Inherits from MainWindow so it can be displayed as its dialog. <br  />
 The <em>AXAML</em> handles the visual layout along with the style sheet in <span class="tt">SettingsWindowStyle.axaml</span>. <br  />
 The <em>code behind</em> handles button actions and key presses.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
FileSurfer.ViewModels</h1>
<p>Contains the ViewModels that connect the Views to the Models in FileSurfer.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
SettingsWindowViewModel</h2>
<p>View model that coordinates the SettingsWindow. <br  />
 Communicates with FileSurferSettings via the <span class="tt">SettingsRecord</span>. <br  />
 Handles the sanitization of input.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
MainWindowViewModel</h2>
<p>Primary view model that coordinates the application's main functionality. Inherits from <span class="tt">ReactiveObject</span> and implements <span class="tt">IDisposable</span>. <br  />
 Holds all properties with data displayed in the MainWindow. Contains most of the basic logic present in the program. <br  />
 Communicates with the MainWindow and serves its data to Models. Also contains searching logic which is tightly integrated with the MainWindow for performance reasons. <br  />
 Directly holds most utility classes / interfaces from Models.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
FileSystemEntryViewModel</h2>
<p>ViewModel representing displayable file system entries. <br  />
 Holds data such as path, icon, size, etc. Contains an IFileSystemEntry.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
FileSystemEntryVMFactory</h2>
<p>Factory class for simplifying the creation of FileSystemEntryViewModels. <br  />
 Contains an IFileInfoProvider and an IIconProvider.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
FileSurfer.Models</h1>
<p>Holds the fundamental data structures, interfaces, and logic related to the general behavior of FileSurfer.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md27"></a>
IFileSystemEntry</h2>
<p>Base interface for file system objects (files, directories, drives). <br  />
 Created out of necessity to encapsulate more information about a file system object.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md28"></a>
FileEntry</h2>
<p>Implements IFileSystemEntry. Represents a file in the file system. <br  />
 Non-essential properties are implemented lazily.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md29"></a>
DirectoryEntry</h2>
<p>Implements IFileSystemEntry. Represents a directory in the file system.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
DriveEntry</h2>
<p>Implements IFileSystemEntry. Represents a drive in the file system. <br  />
 Instantiated with <span class="tt">System.IO.DriveInfo</span>.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
UndoRedoHandler&lt;T&gt;</h2>
<p>Generic class managing undo and redo operations and history of visited directories in <em>FileSurfer</em>. <br  />
 Implemented as a doubly linked list with empty head and tail nodes, which are especially useful when navigating undo/redo operations.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
IResult</h2>
<p>Simple interface representing the outcome of an operation in the <em>FileSurfer</em> app. <br  />
 Replaced the former convention of <span class="tt">bool SomeMethod(..., out string? errorMessage)</span> while also allowing for multiple error messages.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
SimpleResult</h2>
<p>A lightweight and immutable implementation of IResult. <br  />
 Allows for a failed IResult without an error message. <br  />
 Has a private constructor and can be retrieved only using static methods. An 'ok' and 'error' result without an errorMessage are static references.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md34"></a>
Result</h2>
<p>A more flexible but also more memory intensive implementation of IResult. <br  />
 Also has a private constructor. <br  />
 Allows for adding more error messages and merging with other IResult objects after creation.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md35"></a>
FileSurfer.Models.FileInformation</h1>
<p>Provides abstractions and implementations for retrieving metadata about files, directories, and drives.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md36"></a>
IFileInfoProvider</h2>
<p>Interface for retrieving file metadata and properties as well as information about the environment. <br  />
 Part of the lowest layer between the application and the file system.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md37"></a>
WindowsFileInfoProvider</h2>
<p>Windows-specific implementation of IFileInfoProvider for retrieving file information.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md38"></a>
IIconProvider</h2>
<p>Interface for retrieving icons for files, drives, and directories in the form of <span class="tt">Avalonia.Media.Imaging.Bitmap</span>. <br  />
 Used by FileSystemEntryViewModel.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md39"></a>
IconProvider</h2>
<p>Implements IIconProvider and <span class="tt">IDisposable</span>. <br  />
 Uses an IFileInfoProvider to retrieve icons. <br  />
 Implements caching for icons of most file extensions, except for <span class="tt">.exe</span>, <span class="tt">.dll</span>. etc. which sometimes have unique icons. <br  />
 Drive and directory icons are loaded from the <a href="../../src/FileSurfer/Assets/">assets directory</a>.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md40"></a>
FileNameGenerator</h2>
<p>Static class for creating unique filenames for new or copied files. <br  />
 For example the user wants to create a new file (called <span class="tt">New File</span> by default) but a file with that name is already present In which case the <em>FileNameGenerator</em> will supply a new name such as <span class="tt">New File (1)</span>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md41"></a>
FileSurfer.Models.VersionControl</h1>
<p>Contains abstractions and implementations for version control integration, including command execution.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md42"></a>
VCStatus</h2>
<p>Enum representing the different states of files within a git repository in the context of FileSurfer's git integration.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md43"></a>
IVersionControl</h2>
<p>Interface for integration with version control systems. <br  />
 Implementing classes must also implement <span class="tt">IDisposable</span>. <br  />
 Provides methods for downloading, uploading and staging changes in version controlled repositories.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md44"></a>
GitVersionControl</h2>
<p>Implementation of IVersionControl operations for Git repositories using the <span class="tt">LibGit2Sharp</span> NuGet package. Handles subdirectories of git repositories. Holds the data about the current git repository. That data is released (and potentially replaced) when <span class="tt">InitIfVersionControlled</span> is called on a directory outside of that repository. <br  />
 Some commands from <span class="tt">LibGit2Sharp</span> require user authentication - these commands are implemented as shell commands for now. <br  />
 Uses an IShellHandler for command invocation. <br  />
 Caches state information about files and directories for the current repository.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md45"></a>
FileSurfer.Models.Shell</h1>
<p>Defines abstractions and implementations for interacting with the system shell.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md46"></a>
IShellHandler</h2>
<p>Interface for interacting with the OS shell. Part of the lowest layer between the application and the file system. <br  />
 Provides methods for opening programs and executing shell commands.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md47"></a>
WindowsShellHandler</h2>
<p>Windows-specific implementation of IShellHandler for shell interactions. Uses <span class="tt">System.Runtime.InteropServices</span> and <span class="tt">IWshRuntimeLibrary</span> to interop with the Windows shell.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md48"></a>
IFileRestorer</h2>
<p>Interface for restoring deleted files and directories from the system bin.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md49"></a>
WindowsFileRestorer</h2>
<p>Implementation of IFileRestorer for restoration of deleted files and directories on Windows. Implemented using the <span class="tt">Shell32</span> COM reference.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md50"></a>
WindowsFileProperties</h2>
<p>Static class that encapsulates showing of the native Windows properties window for a file, directory, or a drive. <br  />
 Uses the <span class="tt">ShellExecuteEx</span> extern from <span class="tt">shell32.dll</span>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md51"></a>
FileSurfer.Models.FileOperations</h1>
<p>Encapsulates file and directory operations.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md52"></a>
IFileIOHandler</h2>
<p>Interface defining methods for file system operations such as creation, deleting, and moving of files and directories. <br  />
 Part of the lowest layer between the application and the file system.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md53"></a>
WindowsFileIOHandler</h2>
<p>Windows-specific implementation of file operations. Most operations are implemented using <span class="tt">Microsoft.VisualBasic.FileIO</span> methods since they provide native Windows confirmation dialogs. <br  />
 Internally uses an IFileInfoProvider and an IFileRestorer.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md54"></a>
IClipboardManager</h2>
<p>Interface for managing clipboard operations for files and directories.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md55"></a>
ClipboardManager</h2>
<p>Implements IClipboardManager. <br  />
 Uses Windows Forms to interact with the system clipboard (subject to change), while still keeping track of clipboard operations using an internal 'clipboard'. <br  />
 Supports pasting pictures from the system clipboard. <br  />
 Uses an IFileIOHandler for file operations.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md56"></a>
ArchiveManager</h2>
<p>Static class that handles compression and extraction of archive files. <br  />
 Implemented using the <span class="tt">SharpCompress</span> NuGet package.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md57"></a>
FileSurfer.Models.FileOperations.Undoable</h1>
<p>Namespace containing undoable file operations and their supporting abstractions. Each operation is encapsulated in its own class.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md58"></a>
IUndoableFileOperation</h2>
<p>Simple interface for operations that can be undone. <br  />
 I decided to name the "redoing" function <span class="tt">Invoke</span> instead of <span class="tt">Redo</span> since the function is useful for when invoking these operations for the first time too.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md59"></a>
UndoableOperation</h2>
<p>Implements IUndoableFileOperation. <br  />
 Abstract class for operations on multiple entries. <br  />
 This class does not have a deeper conceptual meaning other than reducing boilerplate from IUndoableFileOperations that affect multiple files and directories.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md60"></a>
CopyFilesTo</h2>
<p>Implements UndoableOperation. <br  />
 Undoable operation for copying files to a destination.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md61"></a>
DuplicateFiles</h2>
<p>Implements UndoableOperation. <br  />
 Undoable operation for creating duplicates of files.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md62"></a>
MoveFilesTo</h2>
<p>Implements UndoableOperation. <br  />
 Undoable operation for moving files to a new location.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md63"></a>
MoveFilesToTrash</h2>
<p>Implements UndoableOperation. <br  />
 Undoable operation for moving files to the recycle bin/trash.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md64"></a>
NewDirAt</h2>
<p>Implements IUndoableFileOperation. <br  />
 Undoable operation for creating a new directory.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md65"></a>
NewFileAt</h2>
<p>Implements IUndoableFileOperation. <br  />
 Undoable operation for creating a new file.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md66"></a>
RenameFiles</h2>
<p>Implements UndoableOperation. <br  />
 Undoable operation for renaming files. <br  />
 Assumes all entries have a common original parent directory.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md67"></a>
RenameOne</h2>
<p>Implements IUndoableFileOperation. <br  />
 Undoable operation for renaming files.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md68"></a>
FlattenFolder</h2>
<p>Implements IUndoableFileOperation. <br  />
 Undoable operation for moving all files from a subfolder to a parent folder. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
