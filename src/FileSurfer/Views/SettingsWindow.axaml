<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:FileSurfer.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        Width="600" Height="800" CanResize="True"
        mc:Ignorable="d" d:DesignWidth="550" d:DesignHeight="220"
        x:Class="FileSurfer.Views.SettingsWindow"
        WindowStartupLocation="CenterOwner"
        x:DataType="vm:SettingsWindowViewModel"
        Title="Settings"
        Icon="/Assets/FileSurfer-logo.ico"
        KeyDown="KeyPressed"
        ShowInTaskbar="False"
        Foreground="{DynamicResource TextColor}"
        Background="{DynamicResource PrimaryColor}">

    <Window.Styles>
        <StyleInclude Source="avares://FileSurfer/Views/SettingsWindowStyle.axaml"/>
    </Window.Styles>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" Padding="20">
            <StackPanel Spacing="20">

                <Border Classes="Borders">
                    <StackPanel Spacing="12">
                        <TextBlock Text="General" FontWeight="Bold" FontSize="16"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="New Image Name:" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding NewImageName}" Margin="5,0,0,5"/>

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="New File Name:" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding NewFileName}" Margin="5,0,0,5"/>

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="New Directory Name:" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding NewDirectoryName}" Margin="5,0,0,5"/>

                            <TextBlock Grid.Row="3" Grid.Column="0" Text="This PC Label:" VerticalAlignment="Center"/>
                            <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding ThisPCLabel}" Margin="5,0,0,5"/>

                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Path to Notepad App:" VerticalAlignment="Center"/>
                            <TextBox  Grid.Row="4" Grid.Column="1" Margin="5,0,0,5" Text="{Binding NotepadApp}"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <Border Classes="Borders">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Startup and Location" FontWeight="Bold" FontSize="16"/>

                        <CheckBox Content="Open in last location" IsChecked="{Binding OpenInLastLocation}"/>

                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="Default Location:" VerticalAlignment="Center"/>
                            <TextBox Grid.Column="1" Margin="5 0 0 0" Text="{Binding OpenIn}" IsEnabled="{Binding !OpenInLastLocation}"/>
                        </Grid>
                    </StackPanel>
                </Border>

                <Border Classes="Borders">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Appearance" FontWeight="Bold" FontSize="16"/>

                        <CheckBox Content="Use Dark Mode" IsChecked="{Binding UseDarkMode}"/>

                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="Display Mode:" VerticalAlignment="Center"/>
                            <ComboBox Grid.Column="1" SelectedItem="{Binding DisplayMode}" Margin="5,0,10,0">
                                <ComboBoxItem Content="ListView"/>
                                <ComboBoxItem Content="GridView"/>
                                <ComboBoxItem Content="Details"/>
                            </ComboBox>

                            <TextBlock Grid.Column="2" Text="Default Sort:" VerticalAlignment="Center"/>
                            <ComboBox Grid.Column="3" SelectedItem="{Binding DefaultSort}" Margin="5,0,0,0">
                                <ComboBoxItem Content="Name"/>
                                <ComboBoxItem Content="Size"/>
                                <ComboBoxItem Content="Type"/>
                                <ComboBoxItem Content="Modified"/>
                                <ComboBoxItem Content="Created"/>
                            </ComboBox>
                        </Grid>

                        <StackPanel Orientation="Horizontal" Spacing="20" Margin="0,10,0,0">
                            <CheckBox Content="Sort Reversed" IsChecked="{Binding SortReversed}"/>
                            <StackPanel Orientation="Horizontal" Spacing="5">
                                <TextBlock Text="File Size Display Limit:" VerticalAlignment="Center"/>
                                <NumericUpDown Value="{Binding FileSizeDisplayLimit}"
                                              Minimum="0"
                                              Maximum="1048576"
                                              Width="100"/>
                                <TextBlock Text="bytes" VerticalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border Classes="Borders">
                    <StackPanel Spacing="12">
                        <TextBlock Text="File Display" FontWeight="Bold" FontSize="16"/>

                        <StackPanel Spacing="8">
                            <CheckBox Content="Show Special Folders" IsChecked="{Binding ShowSpecialFolders}"/>
                            <CheckBox Content="Show Protected Files" IsChecked="{Binding ShowProtectedFiles}"/>
                            <CheckBox Content="Show Hidden Files" IsChecked="{Binding ShowHiddenFiles}"/>
                            <CheckBox Content="Treat Dot Files as Hidden" IsChecked="{Binding TreatDotFilesAsHidden}"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border Classes="Borders">
                    <StackPanel Spacing="12">
                        <TextBlock Text="Features" FontWeight="Bold" FontSize="16"/>

                        <StackPanel Spacing="8">
                            <CheckBox Content="Git Integration" IsChecked="{Binding GitIntegration}"/>
                            <CheckBox Content="Show Undo/Redo Error Dialogs" IsChecked="{Binding ShowUndoRedoErrorDialogs}"/>
                            <CheckBox Content="Allow Image Pasting from Clipboard" IsChecked="{Binding AllowImagePastingFromClipboard}"/>
                        </StackPanel>

                        <StackPanel Spacing="8" Margin="0,15,0,0">
                            <CheckBox Content="Automatic Refresh" IsChecked="{Binding AutomaticRefresh}"/>
                            <StackPanel Orientation="Horizontal" Spacing="5" Margin="20,5,0,0">
                                <TextBlock Text="Refresh Interval:" VerticalAlignment="Center"/>
                                <NumericUpDown Value="{Binding AutomaticRefreshInterval}"
                                              Minimum="500"
                                              Maximum="60000"
                                              Width="200"/>
                                <TextBlock Text="ms" VerticalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border Classes="Borders">
                    <StackPanel Spacing="12">
                        <DockPanel>
                            <Button DockPanel.Dock="Right" Content="Add Folder" Margin="5,0,0,0"/>
                            <TextBlock Text="Quick Access Folders" FontWeight="Bold" FontSize="16" VerticalAlignment="Center"/>
                        </DockPanel>

                        <Border BorderBrush="{DynamicResource SecondaryColor}"
                                BorderThickness="1"
                                Height="200">
                            <ListBox Name="QuickAccessListBox" ItemsSource="{Binding QuickAccess}">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel>
                                            <Button DockPanel.Dock="Right"
                                                    Content="Remove"
                                                    CommandParameter="{Binding}"
                                                    Margin="5,0,0,0"/>
                                            <TextBlock Text="{Binding}" VerticalAlignment="Center"/>
                                        </DockPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </Border>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>

        <Border Classes="Borders"
                Grid.Row="1"
                Background="{DynamicResource PrimaryColor}"
                Padding="20">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                <Button Content="Reset to Defaults"  Width="120"/>
                <Button Content="Cancel" Width="80"/>
                <Button Content="OK" Width="80" IsDefault="True"/>
            </StackPanel>
        </Border>

    </Grid>
</Window>
